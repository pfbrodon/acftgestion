{% extends 'base.html' %}
{% block content %}
  <div class="card mx-auto" style="max-width: 500px;">
    <div class="card-body">
      <h2 class="card-title mb-4">{% if form.instance.pk %}Editar Socio{% else %}Nuevo Socio{% endif %}</h2>
      <form method="post">
        {% csrf_token %}
        {% for field in form %}
          <div class="mb-3">
            {{ field.label_tag }}
            {% if field.name == 'fecha_nacimiento' and form.instance.fecha_nacimiento %}
              <input type="date" name="fecha_nacimiento" class="form-control" value="{{ form.instance.fecha_nacimiento|date:'Y-m-d' }}" id="id_fecha_nacimiento">
            {% else %}
              {{ field }}
            {% endif %}
            {% if field.errors %}
              <div class="text-danger small">{{ field.errors|striptags }}</div>
            {% endif %}
          </div>
        {% endfor %}
        <button type="submit" class="btn btn-success">Guardar</button>
        <a href="{% url 'socios:listar' %}" class="btn btn-secondary">Cancelar</a>
      </form>
    </div>
  </div>
{% endblock %}
